<!DOCTYPE html><html lang="en">
    <head>
        <base href="/tarm/">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
        <meta name="author" content="Timothy Foster, Auroratide">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">

        <link rel="icon" href="favicon.png">

        <title>How to animate box-shadow - The Archive of Random Material</title>

        <meta property="og:site_name" content="The Archive of Random Material">
<meta property="og:title" content="How to animate box-shadow">
<meta property="og:image" content="https://auroratide.github.io/tarm/icons/512.png">
<meta property="og:url" content="https://auroratide.github.io/tarm/resources/how-to-animate-box-shadow/">
<meta property="og:type" content="article">
<meta property="og:article:published_time" content="2022-05-17T00:00:00.000Z"><meta property="og:article:author" content="Timothy Foster"><meta property="og:article:section" content="frontend"><meta property="og:article:tag" content="css"><meta property="og:article:tag" content="performance"><meta property="og:article:tag" content="shadow"><meta property="og:article:tag" content="box-shadow"><meta property="og:article:tag" content="pseudo-element"><meta property="og:article:tag" content="opacity">


        <script src="https://unpkg.com/@ungap/custom-elements/es.js"></script>
        <script defer src="https://unpkg.com/@auroratide/img-popout/dist/index.js"></script>
    <link rel="stylesheet" href="/tarm/assets/asset.79c75b8e.css"></link><script type="module" src="/tarm/entry.d56ac3ff14.js"></script>
</head>
    <body class="theme-aurorablue">
        

<div id="pixel-snow" class="pixel-snow astro-I3JCUIYE" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" class="astro-I3JCUIYE">
        <rect x="10" y="3" width="20" height="20" fill="var(--skin-logo-00)" class="astro-I3JCUIYE"></rect>
        <rect x="100" y="8" width="6" height="6" fill="var(--skin-logo-10)" class="astro-I3JCUIYE"></rect>
        <rect x="112" y="20" width="17" height="17" fill="var(--skin-logo-30)" class="astro-I3JCUIYE"></rect>
        <rect x="-6" y="32" width="12" height="12" fill="var(--skin-logo-11)" class="astro-I3JCUIYE"></rect>
        <rect x="17" y="50" width="17" height="17" fill="var(--skin-logo-21)" class="astro-I3JCUIYE"></rect>
        <rect x="92" y="44" width="9" height="9" fill="var(--skin-logo-22)" class="astro-I3JCUIYE"></rect>
        <rect x="110" y="58" width="3" height="3" fill="var(--skin-logo-32)" class="astro-I3JCUIYE"></rect>    
        <rect x="102" y="70" width="24" height="24" fill="var(--skin-logo-03)" class="astro-I3JCUIYE"></rect>
        <rect x="13" y="75" width="7" height="7" fill="var(--skin-logo-13)" class="astro-I3JCUIYE"></rect>
        <rect x="-4" y="89" width="13" height="13" fill="var(--skin-logo-33)" class="astro-I3JCUIYE"></rect>
    </svg>
</div>


        <div class="container astro-27FFYI4X">
    <header class="astro-NOQOC7GN">
    <a class="grid astro-NOQOC7GN" href="">
        <span class="logo astro-NOQOC7GN" aria-hidden="true"><svg class="astro-NOQOC7GN" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 4">
    <title>The Archive of Random Material</title>
    <rect x="0" y="0" width="1" height="1" fill="var(--skin-logo-00)"></rect>
    <rect x="1" y="0" width="1" height="1" fill="var(--skin-logo-10)"></rect>
    <rect x="3" y="0" width="1" height="1" fill="var(--skin-logo-30)"></rect>
    <rect x="1" y="1" width="1" height="1" fill="var(--skin-logo-11)"></rect>
    <rect x="2" y="1" width="1" height="1" fill="var(--skin-logo-21)"></rect>
    <rect x="2" y="2" width="1" height="1" fill="var(--skin-logo-22)"></rect>
    <rect x="3" y="2" width="1" height="1" fill="var(--skin-logo-32)"></rect>
    <rect x="0" y="3" width="1" height="1" fill="var(--skin-logo-03)"></rect>
    <rect x="1" y="3" width="1" height="1" fill="var(--skin-logo-13)"></rect>
    <rect x="3" y="3" width="1" height="1" fill="var(--skin-logo-33)"></rect>
</svg>
</span>
        <span class="title astro-NOQOC7GN">The Archive of Random Material</span>
        <span class="subtitle astro-NOQOC7GN">Just a collection of summarized resources I find useful</span>
    </a>
</header>

<main><article class="astro-ROPZ4CJ5">
    <header class="astro-SRUDFN6X">
    <h1 class="title astro-SRUDFN6X">How to animate box-shadow</h1>
    <address class="author astro-SRUDFN6X">By <a rel="author" href="https://tobiasahlin.com/" class="astro-SRUDFN6X">Tobias Ahlin Bjerrome</a></address>
    <span class="resource astro-SRUDFN6X"><a class="button astro-SRUDFN6X" href="https://tobiasahlin.com/blog/how-to-animate-box-shadow/">Read original article</a></span>
    <div class="cover astro-SRUDFN6X"><div class="cover-image astro-NYUPLONC" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="astro-NYUPLONC">
        <rect x="28" y="0" width="72" height="72" class="astro-NYUPLONC"></rect>
        <rect x="2" y="0" width="21" height="21" class="astro-NYUPLONC"></rect>
        <rect x="16" y="25" width="10" height="10" class="astro-NYUPLONC"></rect>
        <rect x="8" y="34" width="6" height="6" class="astro-NYUPLONC"></rect>
        <rect x="6" y="46" width="18" height="18" class="astro-NYUPLONC"></rect>
        <rect x="16" y="68" width="9" height="9" class="astro-NYUPLONC"></rect>
        <rect x="0" y="76" width="6" height="6" class="astro-NYUPLONC"></rect>
        <rect x="12" y="88" width="4" height="4" class="astro-NYUPLONC"></rect>
        <rect x="25" y="82" width="11" height="11" class="astro-NYUPLONC"></rect>
        <rect x="38" y="74" width="10" height="10" class="astro-NYUPLONC"></rect>
        <rect x="58" y="80" width="20" height="20" class="astro-NYUPLONC"></rect>
        <rect x="85" y="77" width="15" height="15" class="astro-NYUPLONC"></rect>
    </svg>
    <img-popout class="image-window astro-NYUPLONC">
            <img src="https://tobiasahlin.com/static/-social/og_blog-how-to-animate-box-shadow.jpg" width="1200" height="627" alt="" class="astro-NYUPLONC">
        </img-popout>
</div>

</div>
</header>

<p>Using CSS to animate a box shadow can be very taxing on performance. Even macbooks may have trouble rendering them, causing the page to lag when scrolling; itâ€™s notably far worse on less capable devices, most notoriously any phone.</p><p>Instead, a similar effect can usually be achieved by varying the opacity of an element with a static box-shadow, namely a pseudo element at the same location.</p><pre class="language-css"><code class="language-css"><span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 2px <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box::after</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token comment">/* A Larger Shadow */</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 5px 15px <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> opacity 0.3s ease-in-out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box:hover::after</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>The big difference according to <a href="https://csstriggers.com">CSS Triggers</a> is that <code>opacity</code> does not change element geometry, whereas <code>box-shadow</code> does. This means opacity does not need to recalculate layout, and in some engines does not even require repainting. It is therefore more performant.</p>
</article>

</main><footer class="astro-MYFJOM3Y">
    <small class="license astro-MYFJOM3Y">Made by <a href="https://auroratide.com" class="astro-MYFJOM3Y">Auroratide</a></small>
    <small class="source astro-MYFJOM3Y"><a href="https://github.com/Auroratide/tarm" aria-label="Source code" class="astro-MYFJOM3Y"><svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 2350 2314.8" xml:space="preserve" class="astro-UC3KUF77">
	<title>Github</title>
	<path d="M1175,0C525.8,0,0,525.8,0,1175c0,552.2,378.9,1010.5,890.1,1139.7c-5.9-14.7-8.8-35.3-8.8-55.8v-199.8H734.4
		c-79.3,0-152.8-35.2-185.1-99.9c-38.2-70.5-44.1-179.2-141-246.8c-29.4-23.5-5.9-47,26.4-44.1c61.7,17.6,111.6,58.8,158.6,120.4
		c47,61.7,67.6,76.4,155.7,76.4c41.1,0,105.7-2.9,164.5-11.8c32.3-82.3,88.1-155.7,155.7-190.9c-393.6-47-581.6-240.9-581.6-505.3
		c0-114.6,49.9-223.3,132.2-317.3c-26.4-91.1-61.7-279.1,11.8-352.5c176.3,0,282,114.6,308.4,143.9c88.1-29.4,185.1-47,284.9-47
		c102.8,0,196.8,17.6,284.9,47c26.4-29.4,132.2-143.9,308.4-143.9c70.5,70.5,38.2,261.4,8.8,352.5c82.3,91.1,129.3,202.7,129.3,317.3
		c0,264.4-185.1,458.3-575.7,499.4c108.7,55.8,185.1,214.4,185.1,331.9V2256c0,8.8-2.9,17.6-2.9,26.4
		C2021,2123.8,2350,1689.1,2350,1175C2350,525.8,1824.2,0,1175,0L1175,0z" class="astro-UC3KUF77"></path>
</svg>


</a></small>
</footer>


</div>



    </body></html>
