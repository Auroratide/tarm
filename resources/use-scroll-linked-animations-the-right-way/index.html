<!DOCTYPE html><html lang="en">
    <head>
        <base href="/tarm/">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
        <meta name="author" content="Timothy Foster, Auroratide">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">

        <link rel="icon" href="favicon.png">

        <title>How to use scroll-linked animations the right way - The Archive of Random Material</title>

        <meta property="og:site_name" content="The Archive of Random Material">
<meta property="og:title" content="How to use scroll-linked animations the right way">
<meta property="og:image" content="https://auroratide.github.io/tarm/icons/512.png">
<meta property="og:url" content="https://auroratide.github.io/tarm/resources/use-scroll-linked-animations-the-right-way/">
<meta property="og:type" content="article">
<meta property="og:article:published_time" content="2022-05-09T00:00:00.000Z"><meta property="og:article:author" content="Timothy Foster"><meta property="og:article:section" content="frontend"><meta property="og:article:tag" content="scrolling"><meta property="og:article:tag" content="animation"><meta property="og:article:tag" content="javascript"><meta property="og:article:tag" content="css"><meta property="og:article:tag" content="parallax">


        <script src="https://unpkg.com/@ungap/custom-elements/es.js"></script>
        <script defer src="https://unpkg.com/@auroratide/img-popout/dist/index.js"></script>
    <link rel="stylesheet" href="/tarm/assets/asset.79c75b8e.css"></link><script type="module" src="/tarm/entry.d56ac3ff6.js"></script>
</head>
    <body class="theme-aurorablue">
        

<div id="pixel-snow" class="pixel-snow astro-I3JCUIYE" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" class="astro-I3JCUIYE">
        <rect x="10" y="3" width="20" height="20" fill="var(--skin-logo-00)" class="astro-I3JCUIYE"></rect>
        <rect x="100" y="8" width="6" height="6" fill="var(--skin-logo-10)" class="astro-I3JCUIYE"></rect>
        <rect x="112" y="20" width="17" height="17" fill="var(--skin-logo-30)" class="astro-I3JCUIYE"></rect>
        <rect x="-6" y="32" width="12" height="12" fill="var(--skin-logo-11)" class="astro-I3JCUIYE"></rect>
        <rect x="17" y="50" width="17" height="17" fill="var(--skin-logo-21)" class="astro-I3JCUIYE"></rect>
        <rect x="92" y="44" width="9" height="9" fill="var(--skin-logo-22)" class="astro-I3JCUIYE"></rect>
        <rect x="110" y="58" width="3" height="3" fill="var(--skin-logo-32)" class="astro-I3JCUIYE"></rect>    
        <rect x="102" y="70" width="24" height="24" fill="var(--skin-logo-03)" class="astro-I3JCUIYE"></rect>
        <rect x="13" y="75" width="7" height="7" fill="var(--skin-logo-13)" class="astro-I3JCUIYE"></rect>
        <rect x="-4" y="89" width="13" height="13" fill="var(--skin-logo-33)" class="astro-I3JCUIYE"></rect>
    </svg>
</div>


        <div class="container astro-27FFYI4X">
    <header class="astro-NOQOC7GN">
    <a class="grid astro-NOQOC7GN" href="">
        <span class="logo astro-NOQOC7GN" aria-hidden="true"><svg class="astro-NOQOC7GN" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 4">
    <title>The Archive of Random Material</title>
    <rect x="0" y="0" width="1" height="1" fill="var(--skin-logo-00)"></rect>
    <rect x="1" y="0" width="1" height="1" fill="var(--skin-logo-10)"></rect>
    <rect x="3" y="0" width="1" height="1" fill="var(--skin-logo-30)"></rect>
    <rect x="1" y="1" width="1" height="1" fill="var(--skin-logo-11)"></rect>
    <rect x="2" y="1" width="1" height="1" fill="var(--skin-logo-21)"></rect>
    <rect x="2" y="2" width="1" height="1" fill="var(--skin-logo-22)"></rect>
    <rect x="3" y="2" width="1" height="1" fill="var(--skin-logo-32)"></rect>
    <rect x="0" y="3" width="1" height="1" fill="var(--skin-logo-03)"></rect>
    <rect x="1" y="3" width="1" height="1" fill="var(--skin-logo-13)"></rect>
    <rect x="3" y="3" width="1" height="1" fill="var(--skin-logo-33)"></rect>
</svg>
</span>
        <span class="title astro-NOQOC7GN">The Archive of Random Material</span>
        <span class="subtitle astro-NOQOC7GN">Just a collection of summarized resources I find useful</span>
    </a>
</header>

<main><article class="astro-ROPZ4CJ5">
    <header class="astro-SRUDFN6X">
    <h1 class="title astro-SRUDFN6X">How to use scroll-linked animations the right way</h1>
    <address class="author astro-SRUDFN6X">By <a rel="author" href="https://blog.logrocket.com/author/alvinwan/" class="astro-SRUDFN6X">Alvin Wan</a></address>
    <span class="resource astro-SRUDFN6X"><a class="button astro-SRUDFN6X" href="https://blog.logrocket.com/use-scroll-linked-animations-right-way/">Read original article</a></span>
    <div class="cover astro-SRUDFN6X"><div class="cover-image astro-NYUPLONC" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="astro-NYUPLONC">
        <rect x="28" y="0" width="72" height="72" class="astro-NYUPLONC"></rect>
        <rect x="2" y="0" width="21" height="21" class="astro-NYUPLONC"></rect>
        <rect x="16" y="25" width="10" height="10" class="astro-NYUPLONC"></rect>
        <rect x="8" y="34" width="6" height="6" class="astro-NYUPLONC"></rect>
        <rect x="6" y="46" width="18" height="18" class="astro-NYUPLONC"></rect>
        <rect x="16" y="68" width="9" height="9" class="astro-NYUPLONC"></rect>
        <rect x="0" y="76" width="6" height="6" class="astro-NYUPLONC"></rect>
        <rect x="12" y="88" width="4" height="4" class="astro-NYUPLONC"></rect>
        <rect x="25" y="82" width="11" height="11" class="astro-NYUPLONC"></rect>
        <rect x="38" y="74" width="10" height="10" class="astro-NYUPLONC"></rect>
        <rect x="58" y="80" width="20" height="20" class="astro-NYUPLONC"></rect>
        <rect x="85" y="77" width="15" height="15" class="astro-NYUPLONC"></rect>
    </svg>
    <img-popout class="image-window astro-NYUPLONC">
            <img src="https://blog.logrocket.com/wp-content/uploads/2019/06/using-scroll-link-animations-right-way.png" width="730" height="487" alt="" class="astro-NYUPLONC">
        </img-popout>
</div>

</div>
</header>

<p>A naive implementation of a parallax effect using Javascript will result in the following <a href="https://firefox-source-docs.mozilla.org/performance/scroll-linked_effects.html">warning on Firefox</a>:</p><blockquote>
<p>This site appears to use a scroll-linked positioning effect. This may not work well with asynchronous panning.</p>
</blockquote><p>Essentially, using Javascript to accomplish <strong>scroll-linked effects</strong> can have major performance issues, as well as accessibility issues deriving from such problems. The result is jittery or lagging animations, which is no good for anyone.</p><h2 id="why-this-is-a-problem">Why this is a problem</h2><p>Browsers do a lot of work in the background to deliver a web page. This work is divided among <strong>threads</strong> with different responsibilities. To provide a better experience for the reader, scrolling is sometimes put on a so-called <strong>compositor thread</strong>. Meanwhile, scroll events are triggered and run on the <strong>main thread</strong>.</p><p>As these two threads are not guaranteed to be synchronized, lagging can occur.</p><h2 id="use-css-instead">Use CSS Instead</h2><p>The best way to solve scroll-based issues is to use CSS instead of Javascript. This puts all of the work onto the compositor thread gives the browser all of the responsibility of optimization.</p><p>The most popular techniques can be done with CSS:</p><ul>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky">Sticky Positioning</a></strong> - just use <code>position: sticky</code></li>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Scroll_Snap">Scroll Snapping</a></strong> - some properties can force the scroll to move to an element</li>
<li><strong><a href="https://keithclark.co.uk/articles/pure-css-parallax-websites/">Parallax</a></strong> - utilizes a combination of <code>perspective</code> and <code>translateZ</code> to, in a sense, literally implement parallax</li>
</ul><h2 id="javascript-observer-pattern">Javascript Observer Pattern</h2><p>Instead of relying on the <code>scroll</code> event to detect when an animation should happen, observers should be used to trigger an action when a specific scroll position is reached (observing vs polling). The <strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API">Intersection Observer API</a></strong> is build to do just that.</p>
</article>

</main><footer class="astro-MYFJOM3Y">
    <small class="license astro-MYFJOM3Y">Made by <a href="https://auroratide.com" class="astro-MYFJOM3Y">Auroratide</a></small>
    <small class="source astro-MYFJOM3Y"><a href="https://github.com/Auroratide/tarm" aria-label="Source code" class="astro-MYFJOM3Y"><svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 2350 2314.8" xml:space="preserve" class="astro-UC3KUF77">
	<title>Github</title>
	<path d="M1175,0C525.8,0,0,525.8,0,1175c0,552.2,378.9,1010.5,890.1,1139.7c-5.9-14.7-8.8-35.3-8.8-55.8v-199.8H734.4
		c-79.3,0-152.8-35.2-185.1-99.9c-38.2-70.5-44.1-179.2-141-246.8c-29.4-23.5-5.9-47,26.4-44.1c61.7,17.6,111.6,58.8,158.6,120.4
		c47,61.7,67.6,76.4,155.7,76.4c41.1,0,105.7-2.9,164.5-11.8c32.3-82.3,88.1-155.7,155.7-190.9c-393.6-47-581.6-240.9-581.6-505.3
		c0-114.6,49.9-223.3,132.2-317.3c-26.4-91.1-61.7-279.1,11.8-352.5c176.3,0,282,114.6,308.4,143.9c88.1-29.4,185.1-47,284.9-47
		c102.8,0,196.8,17.6,284.9,47c26.4-29.4,132.2-143.9,308.4-143.9c70.5,70.5,38.2,261.4,8.8,352.5c82.3,91.1,129.3,202.7,129.3,317.3
		c0,264.4-185.1,458.3-575.7,499.4c108.7,55.8,185.1,214.4,185.1,331.9V2256c0,8.8-2.9,17.6-2.9,26.4
		C2021,2123.8,2350,1689.1,2350,1175C2350,525.8,1824.2,0,1175,0L1175,0z" class="astro-UC3KUF77"></path>
</svg>


</a></small>
</footer>


</div>



    </body></html>
