---
import type { ResourceInfo } from '../resources'
import { withDates, byPublishDate } from '../resources'
import Page from '../layouts/page.astro'
import ResourcePreview from '../components/ResourcePreview.astro'

const resources = (await Astro.glob<ResourceInfo<string>>('./resources/*.md'))
	.map(withDates)
	.sort(byPublishDate)
---

<Page title="Resources">
	<h1>Resources</h1>
	<ul>
		{resources.map(resource => (
			<li><ResourcePreview resource={resource} /></li>
		))}
	</ul>
</Page>

<style>
	h1 {
		margin-bottom: var(--sp-st-o);
	}

	ul {
		list-style: none;
		padding: 0;
	}
</style>